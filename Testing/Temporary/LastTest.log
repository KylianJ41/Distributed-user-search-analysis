Start testing: Aug 05 14:43 CEST
----------------------------------------------------------
1/3 Testing: MasterNodeTest
1/3 Test: MasterNodeTest
Command: "/home/kylian/Documents/Code/cpp/UserAnalysis/masternode_test"
Directory: /home/kylian/Documents/Code/cpp/UserAnalysis
"MasterNodeTest" start time: Aug 05 14:43 CEST
Output:
----------------------------------------------------------
[==========] Running 6 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 6 tests from MasterNodeTest
[ RUN      ] MasterNodeTest.InitializeTaskQueue
Found file: "/home/kylian/Documents/Code/cpp/UserAnalysis/.env"
Loading .env file from: /home/kylian/Documents/Code/cpp/UserAnalysis/.env
Loaded environment variable: DB_HOST
Loaded environment variable: DB_PORT
Loaded environment variable: DB_NAME
Loaded environment variable: DB_USER
Loaded environment variable: DB_PASSWORD
Initializing DatabaseHandler with config: config.ini
Found file: "/home/kylian/Documents/Code/cpp/UserAnalysis/config.ini"
Found file: "/home/kylian/Documents/Code/cpp/UserAnalysis/config.ini"
Connecting with: host=localhost port=5432 dbname=clients_stats user=kylian password=pass
Connected successfully
Initializing task queue with 1000 total users and 100 users per task
Created task with ID: task_1
Created task with ID: task_2
Created task with ID: task_3
Created task with ID: task_4
Created task with ID: task_5
Created task with ID: task_6
Created task with ID: task_7
Created task with ID: task_8
Created task with ID: task_9
Created task with ID: task_10
Finished initializing task queue. Total tasks created: 10
[       OK ] MasterNodeTest.InitializeTaskQueue (30 ms)
[ RUN      ] MasterNodeTest.GetNextTaskSuccess
Found file: "/home/kylian/Documents/Code/cpp/UserAnalysis/.env"
Loading .env file from: /home/kylian/Documents/Code/cpp/UserAnalysis/.env
Loaded environment variable: DB_HOST
Loaded environment variable: DB_PORT
Loaded environment variable: DB_NAME
Loaded environment variable: DB_USER
Loaded environment variable: DB_PASSWORD
Initializing DatabaseHandler with config: config.ini
Found file: "/home/kylian/Documents/Code/cpp/UserAnalysis/config.ini"
Found file: "/home/kylian/Documents/Code/cpp/UserAnalysis/config.ini"
Connecting with: host=localhost port=5432 dbname=clients_stats user=kylian password=pass
Connected successfully
Initializing task queue with 1000 total users and 100 users per task
Created task with ID: task_1
Created task with ID: task_2
Created task with ID: task_3
Created task with ID: task_4
Created task with ID: task_5
Created task with ID: task_6
Created task with ID: task_7
Created task with ID: task_8
Created task with ID: task_9
Created task with ID: task_10
Finished initializing task queue. Total tasks created: 10
[       OK ] MasterNodeTest.GetNextTaskSuccess (30 ms)
[ RUN      ] MasterNodeTest.GetNextTaskEmptyQueue
Found file: "/home/kylian/Documents/Code/cpp/UserAnalysis/.env"
Loading .env file from: /home/kylian/Documents/Code/cpp/UserAnalysis/.env
Loaded environment variable: DB_HOST
Loaded environment variable: DB_PORT
Loaded environment variable: DB_NAME
Loaded environment variable: DB_USER
Loaded environment variable: DB_PASSWORD
Initializing DatabaseHandler with config: config.ini
Found file: "/home/kylian/Documents/Code/cpp/UserAnalysis/config.ini"
Found file: "/home/kylian/Documents/Code/cpp/UserAnalysis/config.ini"
Connecting with: host=localhost port=5432 dbname=clients_stats user=kylian password=pass
Connected successfully
[       OK ] MasterNodeTest.GetNextTaskEmptyQueue (26 ms)
[ RUN      ] MasterNodeTest.SubmitTaskResult
Found file: "/home/kylian/Documents/Code/cpp/UserAnalysis/.env"
Loading .env file from: /home/kylian/Documents/Code/cpp/UserAnalysis/.env
Loaded environment variable: DB_HOST
Loaded environment variable: DB_PORT
Loaded environment variable: DB_NAME
Loaded environment variable: DB_USER
Loaded environment variable: DB_PASSWORD
Initializing DatabaseHandler with config: config.ini
Found file: "/home/kylian/Documents/Code/cpp/UserAnalysis/config.ini"
Found file: "/home/kylian/Documents/Code/cpp/UserAnalysis/config.ini"
Connecting with: host=localhost port=5432 dbname=clients_stats user=kylian password=pass
Connected successfully
Initializing task queue with 1000 total users and 100 users per task
Created task with ID: task_1
Created task with ID: task_2
Created task with ID: task_3
Created task with ID: task_4
Created task with ID: task_5
Created task with ID: task_6
Created task with ID: task_7
Created task with ID: task_8
Created task with ID: task_9
Created task with ID: task_10
Finished initializing task queue. Total tasks created: 10
Submitting result for task ID: task_1
Number of created task IDs: 10
Task result submitted successfully
[       OK ] MasterNodeTest.SubmitTaskResult (27 ms)
[ RUN      ] MasterNodeTest.GetAggregatedResults
Found file: "/home/kylian/Documents/Code/cpp/UserAnalysis/.env"
Loading .env file from: /home/kylian/Documents/Code/cpp/UserAnalysis/.env
Loaded environment variable: DB_HOST
Loaded environment variable: DB_PORT
Loaded environment variable: DB_NAME
Loaded environment variable: DB_USER
Loaded environment variable: DB_PASSWORD
Initializing DatabaseHandler with config: config.ini
Found file: "/home/kylian/Documents/Code/cpp/UserAnalysis/config.ini"
Found file: "/home/kylian/Documents/Code/cpp/UserAnalysis/config.ini"
Connecting with: host=localhost port=5432 dbname=clients_stats user=kylian password=pass
Connected successfully
Initializing task queue with 1000 total users and 100 users per task
Created task with ID: task_1
Created task with ID: task_2
Created task with ID: task_3
Created task with ID: task_4
Created task with ID: task_5
Created task with ID: task_6
Created task with ID: task_7
Created task with ID: task_8
Created task with ID: task_9
Created task with ID: task_10
Finished initializing task queue. Total tasks created: 10
Submitting result for task ID: task_1
Number of created task IDs: 10
Task result submitted successfully
Submitting result for task ID: task_10
Number of created task IDs: 9
Task result submitted successfully
[       OK ] MasterNodeTest.GetAggregatedResults (19 ms)
[ RUN      ] MasterNodeTest.SubmitInvalidTaskResult
Found file: "/home/kylian/Documents/Code/cpp/UserAnalysis/.env"
Loading .env file from: /home/kylian/Documents/Code/cpp/UserAnalysis/.env
Loaded environment variable: DB_HOST
Loaded environment variable: DB_PORT
Loaded environment variable: DB_NAME
Loaded environment variable: DB_USER
Loaded environment variable: DB_PASSWORD
Initializing DatabaseHandler with config: config.ini
Found file: "/home/kylian/Documents/Code/cpp/UserAnalysis/config.ini"
Found file: "/home/kylian/Documents/Code/cpp/UserAnalysis/config.ini"
Connecting with: host=localhost port=5432 dbname=clients_stats user=kylian password=pass
Connected successfully
Initializing task queue with 1000 total users and 100 users per task
Created task with ID: task_1
Created task with ID: task_2
Created task with ID: task_3
Created task with ID: task_4
Created task with ID: task_5
Created task with ID: task_6
Created task with ID: task_7
Created task with ID: task_8
Created task with ID: task_9
Created task with ID: task_10
Finished initializing task queue. Total tasks created: 10
Submitting result for task ID: task_0
Number of created task IDs: 10
Task ID not found in createdTaskIds
[       OK ] MasterNodeTest.SubmitInvalidTaskResult (21 ms)
[----------] 6 tests from MasterNodeTest (155 ms total)

[----------] Global test environment tear-down
[==========] 6 tests from 1 test suite ran. (156 ms total)
[  PASSED  ] 6 tests.
<end of output>
Test time =   0.17 sec
----------------------------------------------------------
Test Passed.
"MasterNodeTest" end time: Aug 05 14:43 CEST
"MasterNodeTest" time elapsed: 00:00:00
----------------------------------------------------------

2/3 Testing: DatabaseHandlerTest
2/3 Test: DatabaseHandlerTest
Command: "/home/kylian/Documents/Code/cpp/UserAnalysis/databasehandler_test"
Directory: /home/kylian/Documents/Code/cpp/UserAnalysis
"DatabaseHandlerTest" start time: Aug 05 14:43 CEST
Output:
----------------------------------------------------------
[==========] Running 2 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 2 tests from DatabaseHandlerTest
[ RUN      ] DatabaseHandlerTest.InsertAndRetrieveLogs
Setting up test environment
Current working directory: "/home/kylian/Documents/Code/cpp/UserAnalysis"
Found file: "/home/kylian/Documents/Code/cpp/UserAnalysis/.env"
Loading .env file from: /home/kylian/Documents/Code/cpp/UserAnalysis/.env
Loaded environment variable: DB_HOST
Loaded environment variable: DB_PORT
Loaded environment variable: DB_NAME
Loaded environment variable: DB_USER
Loaded environment variable: DB_PASSWORD
.env file loaded successfully
Creating DatabaseHandler
Initializing DatabaseHandler with config: config.ini
Found file: "/home/kylian/Documents/Code/cpp/UserAnalysis/config.ini"
Found file: "/home/kylian/Documents/Code/cpp/UserAnalysis/config.ini"
Connecting with: host=localhost port=5432 dbname=clients_stats user=kylian password=pass
Connected successfully
DatabaseHandler created successfully
Creating search logs table
Creating table: search_logs
Table created successfully
Cleaning up test data
Executing query: DELETE FROM search_logs WHERE user_id BETWEEN 1 AND 100
Query executed successfully
Test data cleaned up
Setup complete
Starting InsertAndRetrieveLogs test
Test logs:
User ID: 1
Search Query: test query 1
Timestamp: 2023-01-01 12:00:00
Search Results: result1 result2 
User ID: 2
Search Query: test query 2
Timestamp: 2023-01-02 13:00:00
Search Results: result3 result4 
Inserting test logs
Inserting multiple search logs
Inserting search log
User ID: 1
Search Query: test query 1
Timestamp: 2023-01-01 12:00:00
Number of search results: 2
Converting vector to Postgres array
Converted array: {"result1","result2"}
Converted search results array: {"result1","result2"}
Creating transaction
Transaction created
Executing query
Query executed
Committing transaction
Transaction committed
Search log inserted successfully
Inserting search log
User ID: 2
Search Query: test query 2
Timestamp: 2023-01-02 13:00:00
Number of search results: 2
Converting vector to Postgres array
Converted array: {"result3","result4"}
Converted search results array: {"result3","result4"}
Creating transaction
Transaction created
Executing query
Query executed
Committing transaction
Transaction committed
Search log inserted successfully
All search logs inserted successfully
Retrieving inserted logs
Executing query: SELECT * FROM search_logs WHERE user_id BETWEEN 1 AND 100 ORDER BY user_id
Query executed successfully
Asserting results
InsertAndRetrieveLogs test completed successfully
Cleaning up test data
Executing query: DELETE FROM search_logs WHERE user_id BETWEEN 1 AND 100
Query executed successfully
Test data cleaned up
[       OK ] DatabaseHandlerTest.InsertAndRetrieveLogs (68 ms)
[ RUN      ] DatabaseHandlerTest.CreateTableIdempotent
Setting up test environment
Current working directory: "/home/kylian/Documents/Code/cpp/UserAnalysis"
Found file: "/home/kylian/Documents/Code/cpp/UserAnalysis/.env"
Loading .env file from: /home/kylian/Documents/Code/cpp/UserAnalysis/.env
Loaded environment variable: DB_HOST
Loaded environment variable: DB_PORT
Loaded environment variable: DB_NAME
Loaded environment variable: DB_USER
Loaded environment variable: DB_PASSWORD
.env file loaded successfully
Creating DatabaseHandler
Initializing DatabaseHandler with config: config.ini
Found file: "/home/kylian/Documents/Code/cpp/UserAnalysis/config.ini"
Found file: "/home/kylian/Documents/Code/cpp/UserAnalysis/config.ini"
Connecting with: host=localhost port=5432 dbname=clients_stats user=kylian password=pass
Connected successfully
DatabaseHandler created successfully
Creating search logs table
Creating table: search_logs
Table created successfully
Cleaning up test data
Executing query: DELETE FROM search_logs WHERE user_id BETWEEN 1 AND 100
Query executed successfully
Test data cleaned up
Setup complete
Creating table: search_logs
Table created successfully
Creating table: search_logs
Table created successfully
Cleaning up test data
Executing query: DELETE FROM search_logs WHERE user_id BETWEEN 1 AND 100
Query executed successfully
Test data cleaned up
[       OK ] DatabaseHandlerTest.CreateTableIdempotent (33 ms)
[----------] 2 tests from DatabaseHandlerTest (101 ms total)

[----------] Global test environment tear-down
[==========] 2 tests from 1 test suite ran. (101 ms total)
[  PASSED  ] 2 tests.
<end of output>
Test time =   0.17 sec
----------------------------------------------------------
Test Passed.
"DatabaseHandlerTest" end time: Aug 05 14:43 CEST
"DatabaseHandlerTest" time elapsed: 00:00:00
----------------------------------------------------------

3/3 Testing: LogGeneratorTest
3/3 Test: LogGeneratorTest
Command: "/home/kylian/Documents/Code/cpp/UserAnalysis/loggenerator_test"
Directory: /home/kylian/Documents/Code/cpp/UserAnalysis
"LogGeneratorTest" start time: Aug 05 14:43 CEST
Output:
----------------------------------------------------------
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from LogGeneratorTest
[ RUN      ] LogGeneratorTest.GeneratesCorrectNumberOfLogs
[       OK ] LogGeneratorTest.GeneratesCorrectNumberOfLogs (0 ms)
[----------] 1 test from LogGeneratorTest (0 ms total)

[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (0 ms total)
[  PASSED  ] 1 test.
<end of output>
Test time =   0.01 sec
----------------------------------------------------------
Test Passed.
"LogGeneratorTest" end time: Aug 05 14:43 CEST
"LogGeneratorTest" time elapsed: 00:00:00
----------------------------------------------------------

End testing: Aug 05 14:43 CEST
